# SQL Scaffolding

## Prerequisites for development
1. It is recommended to use a version of Visual Studio 20XX, such as Visual Studio 2019. This is NOT the same as Visual Studio Code.
2. Make sure that the ASP.NET package (called ASP.NET and web development in the Visual Studio Installer) is installed for Visual Studio 20XX for the smoothest experience.

## Development
Clone this repository and open it with Visual Studio 20XX by either clicking on the .sln file or the .csproj file in the ScaffoldingSQLProject directory.

## Compiling For Use
This program comes with two public builds:
* Release
    - A stripped-down version of the application that is intended to be given to end users that should not have Admin privleges.
* Admin
    - A full-featured version of the program with unrestricted access to the QuesitonMaker and the DataBaseView pages.

There is an optional third build called 'Debug' for internal testing. This build has the needed code for unit testing enabled.

When releasing the application to the end users, please ensure that the compiling computer has dotnet installed. Then, open the project directory in a command prompt and run: 

* Windows: (Requires the dotnet compiler)
`.\compile.bat`

* Linux: (Requires the dotnet compiler)
`./compile.sh`

You will the see following directory structure contained within SQLScaffoldingProject:
```
bin
|- Admin
|  |- linux-x64
|  |- netcoreapp5.0
|  |- osx-64
|  |- win-x46
|  |- win-x86
|- Release
   |- linux-x64
   |- netcoreapp5.0
   |- osx-64
   |- win-x46
   |- win-x86
```
Inside the bin folder is a folder for each public release (Admin and Release), and more subfolders for CPU and OS architectures, such as osx-64, win-x64, and win-x86. Ignore the netcoreapp5.0 folder, as it is not a release at all, but is generated by the compiler. These subfolders are the final package that may be deliverd to their respective users. Please note that although there is a Linux build, we are unable to guarantee that is works on all distributions. If the Linux build lacks permissions, run the command ```chmod u+x ScaffoldingSQLProject``` while in the project directory.

You may also see another folder called UnitTests. This is for unit tests on the C# component of the application.

## Delivering Updates to Questions and Databases

If a question or database (or several) needs to be updated, you can simply distribute the Resources folder to the users and to any other installations. It is recommended to distibute this folder as a zip archive, which on Windows 10 can be done by right clicking on the folder, and selecting 'send to', followed by 'Compressed (zipped) folder'. These updated resource files only need to replace the existing Resources folder. Please allow all files to be overwritten when unzippping the Resources folder into the application's directory.

## Frameworks and Dependencies Used
- [Dotnet Version 5](https://docs.microsoft.com/en-us/dotnet/core/introduction)
    * [ASP.net](https://docs.microsoft.com/en-us/aspnet/core/?view=aspnetcore-5.0)
    * [Razor Pages (Part of ASP.net)](https://docs.microsoft.com/en-us/aspnet/core/tutorials/razor-pages/?view=aspnetcore-5.0)
        - [Tutorials](https://docs.microsoft.com/en-us/aspnet/core/tutorials/razor-pages/razor-pages-start?view=aspnetcore-5.0&tabs=visual-studio) 
- [Bootstrap](https://getbootstrap.com/)
- [Firebase Realtime Database](https://firebase.google.com/docs/database/)
    * Not to be confused with Cloud Firestore
- [JQuery](https://jquery.com/)
	* [Documentation](https://api.jquery.com/)
- [sql.js](https://sql.js.org/#/)
	* [Documentation](https://sql.js.org/documentation/)
	* Specifically, pay attention to the WebWorker assembly as that is what this project uses.
- [parsons.js](http://js-parsons.github.io/)
	* [Documentation](https://getbootstrap.com/docs/5.1/getting-started/introduction/)
- [CryptoJS](https://cryptojs.gitbook.io/docs/)
- [CodeMirror](https://codemirror.net/)
	* [Documentation](https://codemirror.net/doc/manual.html)

## UML Documentation
- [File Controller](Controllers/FileController/UML/FILECONTROLLER_UML.md)

## Test Pages
- BarchartTest
	* Test page for the barchart system
- IFrameTest
	* Page to test rendering in an iframe
- ForgeryTest
	*  Test the C# AntiForgery system
